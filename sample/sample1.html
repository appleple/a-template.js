<!DOCTYPE html>
<html lang="ja">
<head>
	<meta charset="UTF-8">
	<title>list sample</title>
</head>
<body>
	<script id="search" type="text/template">
		<input type="text" data-bind="search" data-action="doSearch">
	</script>
	<script id="list_template" type="text/template">
	
	<ul>
		<!-- BEGIN result:loop -->
		<li>{name}</li>
		<!-- END result:loop -->
	</ul>
	</script>
	<script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
	<script src="../aTemplate.js"></script>
	<script>
	var search = new aTemplate.View({
		templates:["search"],
		data:{
			search:""
		},
		method:{
			doSearch:function(){
				list.data.search = this.data.search;
				list.update();
			}
		}
	}).update();
	var list = new aTemplate.View({
		templates:["list_template"],
		data:{
			search:search.data.search,
			list:[
				{name:"tomomi",id:1111},
				{name:"daigo",id:1112},
				{name:"taro",id:11113},
				{name:"koike",id:1114},
				{name:"aboki",id:1115},
				{name:"tetsuro",id:1116},
				{name:"takahashi",id:1117},
				{name:"suzuki",id:1118},
				{name:"okazaki",id:1119},
				{name:"aoi",id:1120},
			],
			result:function(){
				var search = this.data.search;
				var list = this.data.list;
				return list.filter(function(str){
					var id = str.id+"";
					return str.name.indexOf(search) >= 0 || id.indexOf(search) >= 0;
				});
			}
		},
	}).update();
	</script>
</body>
</html>