<!DOCTYPE html>
<html lang="ja">
<head>
	<meta charset="UTF-8">
	<title>list sample</title>
</head>
<body>
	<script id="list_template" type="text/template">
	\{list.0.test.test.hoge.3\}
	<ul>
		<li><input type="text" data-bind="newItem"><button data-action-click="addItem()">追加</button></li>
		<!-- BEGIN list:loop -->
		<li>{name}[addMr]<button data-action-click="removeItem({i})">削除</button></li>
		<!-- END list:loop -->
	</ul>
	</script>
	<script src="../build/a-template.js"></script>
	<script>
	var list = new aTemplate({
		templates:["list_template"],
		data:{
			list:[
				{test:{test:{hoge:[1,2,55,3]}}},
				{name:"tomomi"},
				{name:"daigo"},
				{name:"taro"},
				{name:"koike"}
			],
			newItem:''
		},
		removeItem:function(i){
			this.data.list.splice(i,1);
			this.update();
		},
		addItem:function(){
			if(this.data.newItem){
				this.data.list.push({name:this.data.newItem});
				this.update();
			}
		},
		convert:{
			addMr:function($txt){
				return "Mr."+$txt;
			}
		}
	}).update();
	</script>
</body>
</html>
